import{s as z}from"./request-BarWf1iR.js";/* empty css                     *//* empty css                     */import{f as y,r as N,c as f,b as t,w as l,T,R as L,U as j,V as D,o as u,k as r,X as c,a as S,t as v,h as m,E as R,P as $,Q,Y as X,_ as Y}from"./index-Br-KH4mf.js";function q(i){return z({url:"/user/list",method:"get",params:i})}function A(i={}){return z({url:"/user/updateStatus",method:"put",data:i})}const G={key:0,style:{color:"#3EC8FF"}},H={key:1,style:{color:"#FD4C40"}},J={class:"block-span"},K={class:"block-span"},ee={__name:"Cuser",setup(i){const a=y({pageNum:1,pageSize:10,userId:"",nickName:""}),k=N([]),h=N(0);async function p(){const s=await q(a);k.value=s.rows,h.value=s.total}p();function E(){a.pageNum=1,p()}function I(){a.pageNum=1,a.pageSize=10,a.userId="",a.nickName="",p()}function V(s){a.pageNum=1,p()}function w(s){p()}const _=y({userId:"",status:""});async function b(s,n){_.userId=s,_.status=n,await A(_),p()}return(s,n)=>{const x=R,g=$,d=Q,U=L,o=X,C=Y,F=j,B=D;return u(),f(T,null,[t(U,{inline:"true"},{default:l(()=>[t(g,{label:"用户id"},{default:l(()=>[t(x,{modelValue:a.userId,"onUpdate:modelValue":n[0]||(n[0]=e=>a.userId=e),placeholder:"请您输入要搜索的用户id"},null,8,["modelValue"])]),_:1}),t(g,{label:"用户昵称"},{default:l(()=>[t(x,{modelValue:a.nickName,"onUpdate:modelValue":n[1]||(n[1]=e=>a.nickName=e),placeholder:"请您输入要搜索的用户昵称"},null,8,["modelValue"])]),_:1}),t(g,null,{default:l(()=>[t(d,{onClick:E,plain:""},{default:l(()=>[r("搜索")]),_:1}),t(d,{onClick:I,plain:"",type:"info"},{default:l(()=>[r("重置")]),_:1})]),_:1})]),_:1}),t(F,{height:"526px",data:k.value},{default:l(()=>[t(o,{prop:"userId",label:"用户id",width:"180px"}),t(o,{prop:"nickName",label:"用户昵称"}),t(o,{prop:"sex",label:"用户性别"},{default:l(({row:e})=>[e.sex===1?(u(),f("div",G,"男")):c("",!0),e.sex===2?(u(),f("div",H,"女")):c("",!0)]),_:1}),t(o,{prop:"phone",width:"120px",label:"手机号"}),t(o,{prop:"email",width:"120px",label:"邮箱"}),t(o,{prop:"wechat",width:"120px",label:"微信号"}),t(o,{label:"学校/专业",width:"150px"},{default:l(({row:e})=>[S("span",J," 学校: "+v(e.schoolName),1),S("span",K," 专业: "+v(e.majorName),1)]),_:1}),t(o,{prop:"introduce",label:"个人介绍"}),t(o,{prop:"status",width:"90px",label:"用户状态"},{default:l(({row:e})=>[e.status?(u(),m(C,{key:0,type:"success"},{default:l(()=>[r("正常")]),_:1})):(u(),m(C,{key:1,type:"error"},{default:l(()=>[r("拉黑")]),_:1}))]),_:1}),t(o,{label:"操作",width:"80px",fixed:"right"},{default:l(({row:e})=>[e.status===1?(u(),m(d,{key:0,class:"red",type:"text",plain:"",onClick:P=>b(e.userId,0)},{default:l(()=>[r("拉黑")]),_:2},1032,["onClick"])):c("",!0),e.status===0?(u(),m(d,{key:1,type:"text",plain:"",onClick:P=>b(e.userId,1)},{default:l(()=>[r("解禁")]),_:2},1032,["onClick"])):c("",!0)]),_:1})]),_:1},8,["data"]),t(B,{background:"",size:"small",layout:"total, sizes, prev, pager, next, jumper",total:h.value,"current-page":a.pageNum,"onUpdate:currentPage":n[2]||(n[2]=e=>a.pageNum=e),"page-size":a.pageSize,"onUpdate:pageSize":n[3]||(n[3]=e=>a.pageSize=e),"page-sizes":[5,10,15,20],onSizeChange:V,onCurrentChange:w},null,8,["total","current-page","page-size"])],64)}}};export{ee as default};
